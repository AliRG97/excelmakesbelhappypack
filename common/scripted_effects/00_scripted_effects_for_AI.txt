
saveDevcostToVar = {
	export_to_variable = {
		variable_name = $name$
		value = modifier:local_development_cost
	}
	change_variable = { 
		which = $name$
		value = 1
	}
	multiply_variable = { 
		which = $name$
		value = 50
	}
}



#thank you u/Justice_Fighter https://www.reddit.com/r/eu4/comments/dy7lyv/are_dynamic_modifiers_possible/
refresh_binary_modifier = {
	if = {
		limit = {
			check_variable = { which = $variable$ value = 0.1  }
		}
		add_$scope$_modifier = {
			name = $name$
			duration = -1
		}
		set_variable = { which = temp which = $variable$ }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=819.2 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=409.6 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=204.8 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=102.4 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=51.2 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=25.6 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=12.8 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=6.4 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=3.2 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=1.6 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=0.8 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=0.4 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=0.2 }
		rbm_helper = { name=$name$ variable=temp scope=$scope$ value=0.1 }
		set_variable = { which = temp value = 0 }
	}
	else = {
		remove_$scope$_modifier = $name$
	}
}
rbm_helper = {
	if = {
		limit = {
			has_$scope$_modifier = $name$_$value$
		}
		remove_$scope$_modifier = $name$_$value$
	}
	if = {
		limit = {
			check_variable = { which = $variable$ value = $value$ }
		}
		subtract_variable = { which = $variable$ value = $value$ }
		add_$scope$_modifier = {
			name = $name$_$value$
			duration = -1
			hidden = yes
		}
	}
}

add_power_effect = {
	hidden_effect = {
		set_variable = { which = temp which = $variable$ }
		if = {
			limit = {
				check_variable = { which = $variable$ value = 0.1 }
			}
			# postive 
			ape_helper1 = { variable=temp addcommand=$command$ value=8192 }
			ape_helper1 = { variable=temp addcommand=$command$ value=4096 }
			ape_helper1 = { variable=temp addcommand=$command$ value=2048 }
			ape_helper1 = { variable=temp addcommand=$command$ value=1024 }
			ape_helper1 = { variable=temp addcommand=$command$ value=512 }
			ape_helper1 = { variable=temp addcommand=$command$ value=256 }
			ape_helper1 = { variable=temp addcommand=$command$ value=128 }
			ape_helper1 = { variable=temp addcommand=$command$ value=64 }
			ape_helper1 = { variable=temp addcommand=$command$ value=32 }
			ape_helper1 = { variable=temp addcommand=$command$ value=16 }
			ape_helper1 = { variable=temp addcommand=$command$ value=8 }
			ape_helper1 = { variable=temp addcommand=$command$ value=4 }
			ape_helper1 = { variable=temp addcommand=$command$ value=2 }
			ape_helper1 = { variable=temp addcommand=$command$ value=1 }

		}
		else = {
			#negative 
			ape_helper2 = { variable=temp addcommand=$command$ value=-8192 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-4096 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-2048 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-1024 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-512 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-256 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-128 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-64 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-32 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-16 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-8 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-4 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-2 }
			ape_helper2 = { variable=temp addcommand=$command$ value=-1 }
		}
		set_variable = { which = temp value = 0 }
	}
}	

ape_helper2 = {
	if = {
		limit = {
			NOT = { check_variable = { which = $variable$ value = $value$ }}
		}
		$addcommand$ = $value$
		change_variable = { which = $variable$ value = $value$ }
	}	
}
ape_helper1 = {
	if = {
		limit = {
			check_variable = { which = $variable$ value = $value$ }
		}
		$addcommand$ = $value$
		subtract_variable = { which = $variable$ value = $value$ }
	}	
}