#psuedocode

	
	every_country = {	
		#so this below is some weird scope logic you can fry your brain over.
		limit = { ROOT = { knows_country = PREV } }
		# knows_country = ROOT would have been fine. But can you be sure that
		# 1 country is always aware of anothe country if there 
		export_to_variable = { #each country income
			which = percentage1
			value = trigger_value:tax_income_percentage
		}
		export_to_variable = {
			which = percentage2
			value = trigger_value:gold_income_percentage
		}
		export_to_variable = {
			which = percentage3
			value = trigger_value:trade_income_percentage
		}
		export_to_variable = {
			which = percentage4
			value = trigger_value:production_income_percentage
		}
		export_to_variable = {
			which = income
			value = trigger_value:monthly_income
		}
		change_variable = {
			which = percentage1
			which = percentage2
		}
		change_variable = {
			which = percentage3
			which = percentage4
		}
		change_variable = {
			which = percentage1
			which = percentage3
		}
		multiply_variable = {
			which = income
			which = percentage3
		}
		   
		log = "[This.GetName] + [This.percentage.GetValue] "
	}	
	log = "startttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttt [This.GetName] with [This.numX.GetValue]"
	every_known_country = {
		if = {
			limit = {
			calc_true_if = {
				amount = 13
			all_country = {	
					ROOT = { knows_country = PREV }
					check_variable = {
						which = income
						which = PREV
					}
			}	} 
		NOT = {
			calc_true_if = {
				amount = 14
			all_country = {	
					ROOT = { knows_country = PREV }
					check_variable = {
						which = income
						which = PREV
					}
			}	} 		
			}
		}
			log = "Number 14 is [This.GetName] with a income of [This.numX.GetValue] ducats a month"
		} 
	}


	random_known_country = {	
		limit = { has_country_flag = target }
			clr_country_flag = target
				log = "tag change to [Prev.GetName]"
				switch_tag = PREV #tag into X
	}
