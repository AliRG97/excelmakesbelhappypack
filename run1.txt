export_to_variable = { #set top X income variables
which = num1
value = trigger_value:monthly_income
}
set_variable = {
which = num2
value = 0
}
set_variable = {
which = num3
value = 0
}
every_known_country = {
export_to_variable = { #each country income
	which = numX
	value = trigger_value:monthly_income
}
#log = "[This.numX.GetValue]"
PREV = {
	set_variable = { #import variable into current scope
		which = numX
		which = PREV
	}
	if = {
		limit = { #is X country income higher than the current 1?
			check_variable = {
				which = numX
				which = num1
			}
		}
		set_variable = { #move everything up
			which = num3
			which = num2
		}
		set_variable = {
			which = num2
			which = num1
		}
		set_variable = {
			which = num1
			which = numX
		}
		log = "[This.numX.GetValue]"
	}
	else_if = {
		limit = { #is X country income higher than the current 2?
			check_variable = {
				which = numX
				which = num2
			}
		}
		set_variable = { #move everything up
			which = num3
			which = num2
		}
		set_variable = {
			which = num2
			which = numX
		}
	}
	else_if = {
		limit = { #is X country income higher than the current 3?
			check_variable = {
				which = numX
				which = num3
			}
		}
		set_variable = { #move everything up
			which = num3
			which = numX
		}
	}
}
}

#log = "[This.num1.GetValue]"
#log = "[This.num2.GetValue]"
#log = "[This.num3.GetValue]"

every_known_country = {
PREV = {
	set_variable = { #import variable into current scope
		which = numX
		which = PREV
	}
	if = {
		limit = {
			check_variable = { #is X country income equal to or greater than #3?
				which = numX
				which = num3
			}
			NOT = {
				check_variable = { #is X country income less than #2?
					which = numX
					which = num2
				}
			}
		}
		switch_tag = PREV #tag into X
	}
}
}